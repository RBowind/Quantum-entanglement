# 设计模式之意义与原则

## 前言

所谓模式，是指在特定情况下，人们解决某类重复出现问题的一套成功或有效的解决方案。

那我们为什么需要设计模式？
可以保证代码的可维护性、可扩展性、可复用性。

## 设计原则

所有的设计模式都是基于设计原则而构建的方法。所以，要想达到“手中无模式，心中有模式”的境界，必须清楚下面七个设计原则。这里简单介绍下，因为再怎么详细不如自己主动搜索再实现。

### 1.单一职责原则

为了**高内聚，低耦合**，一个类只负责一个功能领域中的相应职责。应该有且仅有一个原因引起类的变更。

好处：类的复杂度降低、可读性提高、可维护性提高、扩展性提高、降低了变更引起的风险。

### 2.开闭原则

一个软件应当对扩展开放，对修改关闭。也就是说，当我们**添加新需求时**尽量在不修改原有代码的情况下进行扩展。

好处：提高项目的稳定性和灵活性。

> 抽象化是开闭原则的关键，可参考抽象工厂模式。

### 3.里氏代换原则

所有**引用父类的地方**必须能够透明地使用其子类的对象。

好处：增强程序的健壮性。

> 注意：是引用父类的地方，反过来则不成立哦。一般实现来说，程序中是父类来定义，子类来实现。

### 4.依赖倒转原则

抽象不应依赖于细节，细节应该依赖于抽象。说实话，这种饶舌的说法，让人费解。换言之，就是“面向接口编程”。模块间的依赖是通过抽象发生，实现类之间不发生直接的依赖关系，其依赖关系是通过接口或抽象类产生的。

好处：在大中型项目中可以减少需求变化引起的工作量。使并行开发更友好。

> 降低层与层之间的耦合

### 5.接口隔离原则

类之间的依赖关系应该建立在最小的接口上，也就是减少依赖。

好处：减少代码冗余。

### 6.合成复用原则

尽量使用对象的组合，而不是继承来达到复用的目的。
在使用继承时，需要严格遵循里氏代换原则，有效使用继承会有助于对问题的理解，降低复杂度，而滥用继承反而会增加系统构建和维护的难度以及系统的复杂度，因此需要慎重使用继承复用。

好处：组合/聚合可以使系统更加灵活，降低类与类之间的耦合度，一个类的变化对其他类造成的影响相对较少。

### 7.迪米特原则

类和类之间尽可能少地发生相互作用，也称最小知识原则。
如有必要，可以使用中介类。
可以参考 “门面模式” 和“中介模式”。

好处：低耦合，高内聚。

## 总结

最后强调一遍，设计模式是一套被反复利用的，多人知晓的，经过分类编目的，代码设计经验的总结。目的：可重用的代码以及容易被他人理解，保证代码的可靠性。

设计模式的意义不仅仅是代码工程结构上的技巧，更是高手之间通晓的专业术语。
